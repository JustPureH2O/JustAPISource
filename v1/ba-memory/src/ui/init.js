const CharacterTag = {
    // -------------- Abydos ---------------- 阿拜多斯
    SHIROKO: {user: "shiroko", name: "Shiroko", cn: "砂狼白子"},
    SHIROKO_SWIMSUIT: {user: "shiroko_swimsuit", name: "CH0188", cn: "砂狼白子（泳装）"},
    SHIROKO_RIDINGSUIT: {user: "shiroko_ridingsuit", name: "Shiroko_ridingsuit", cn: "砂狼白子（骑行）"},
    SHIROKO_TERROR: {user: "shiroko_terror", name: "CH0263", cn: "砂狼白子（恐怖）"},
    SHIROKO_TERROR_LIGHT_WEAKENED: {
        user: "shiroko_terror_home_fix",
        name: "CH0263_home_fix",
        cn: "砂狼白子（恐怖）（光线减弱）"
    },
    SHIROKO_BD: {user: "shiroko_bd", name: "LobbyShiroko_multi", strict: true, V4: true, cn: "砂狼白子（特典）"},
    HOSHINO: {user: "hoshino", name: "Hoshino", cn: "小鸟游星野"},
    HOSHINO_SWIMSUIT: {user: "hoshino_swimsuit", name: "Hoshino_swimsuit", cn: "小鸟游星野（泳装）"},
    HOSHINO_ARMED: {user: "hoshino_armed", name: "CH0258", cn: "小鸟游星野（临战）"},
    HOSHINO_BD: {user: "hoshino_bd", name: "LobbyHoshino_multi", strict: true, V4: true, cn: "小鸟游星野（特典）"},
    NONOMI: {user: "nonomi", name: "Nonomi", cn: "十六夜野宫"},
    NONOMI_SWIMSUIT: {user: "nonomi_swimsuit", name: "CH0092", cn: "十六夜野宫（泳装）"},
    NONOMI_BD: {user: "nonomi_bd", name: "LobbyNonomi_multi", strict: true, V4: true, cn: "十六夜野宫（特典）"},
    AYANE: {user: "ayane", name: "Ayane", cn: "奥空绫音"},
    AYANE_SWIMSUIT: {user: "ayane_swimsuit", name: "CH0176", cn: "奥空绫音（泳装）"},
    AYANE_BD: {user: "ayane_bd", name: "LobbyAyane_multi", strict: true, V4: true, cn: "奥空绫音（特典）"},
    SERIKA: {user: "serika", name: "Serika", cn: "黑见芹香"},
    SERIKA_NEWYEAR: {user: "serika_newyear", name: "Serika_Newyear", cn: "黑见芹香（正月）"},
    SERIKA_SWIMSUIT: {user: "serika_swimsuit", name: "CH0189", cn: "黑见芹香（泳装）"},
    SERIKA_BD: {user: "serika_bd", name: "LobbySerika_multi", strict: true, V4: true, cn: "黑见芹香（特典）"},
    // -------------- Gehenna ---------------- 格赫娜
    // Handyman 68 便利店68
    ARU: {user: "aru", name: "Aru", cn: "陆八魔爱露"},
    ARU_NEWYEAR: {user: "aru_newyear", name: "Aru_newyear", cn: "陆八魔爱露（正月）"},
    ARU_DRESS: {user: "aru_dress", name: "CH0240", cn: "陆八魔爱露（礼服）"},
    KAYOKO: {user: "kayoko", name: "Kayoko", cn: "鬼方佳代子"},
    KAYOKO_NEWYEAR: {user: "kayoko_newyear", name: "CH0086", cn: "鬼方佳代子（正月）"},
    KAYOKO_DRESS: {user: "kayoko_dress", name: "CH0239", cn: "鬼方佳代子（礼服）"},
    KAYOKO_DRESS_EXPOSURE_FIX: {
        user: "kayoko_dress_home_fix",
        name: "CH0239_home_fix",
        cn: "鬼方佳代子（礼服）（光线修复）"
    },
    KAYOKO_DRESS_LIGHT_WEAKENED: {
        user: "kayoko_dress_home_dark",
        name: "CH0239_home_dark",
        cn: "鬼方佳代子（礼服）（光线减弱）"
    },
    KAYOKO_DRESS_LIGHT_REMOVED: {
        user: "kayoko_dress_home_deep",
        name: "CH0239_home_deep",
        cn: "鬼方佳代子（礼服）（无光线）"
    },
    MUTSUKI: {user: "mutsuki", name: "Mutsuki", cn: "浅黄睦月"},
    MUTSUKI_NEWYEAR: {user: "mutsuki_newyear", name: "mutsuki_newyear", cn: "浅黄睦月（正月）"},
    HARUKA: {user: "haruka", name: "Haruka", cn: "伊草春香"},
    HARUKA_NEWYEAR: {user: "haruka_newyear", name: "CH0087", cn: "伊草春香（正月）"},
    // School Lunch Club 供给部
    FUUKA: {user: "fuuka", name: "Fuuka", cn: "爱清枫香"},
    FUUKA_NEWYEAR: {user: "fuuka_newyear", name: "CH0177", cn: "爱清枫香（正月）"},
    JURI: {user: "juri", name: "Juri", cn: "牛牧茱莉"},
    // Gourmet Research Society 美食研究会
    JUNKO: {user: "junko", name: "Zunko", cn: "赤司淳子"},
    JUNKO_NEWYEAR: {user: "junko_newyear", name: "CH0192", cn: "赤司淳子（正月）"},
    HARUNA: {user: "haruna", name: "Haruna", cn: "黑馆晴奈"},
    HARUNA_NEWYEAR: {user: "haruna_newyear", name: "CH0191", cn: "黑馆晴奈（正月）"},
    HARUNA_GYM: {user: "haruna_gym", name: "CH0193", cn: "黑馆晴奈（体操服）"},
    IZUMI: {user: "izumi", name: "Izumi", cn: "狮子堂泉"},
    IZUMI_SWIMSUIT: {user: "izumi_swimsuit", name: "Izumi_swimsuit", cn: "狮子堂泉（泳装）"},
    AKARI: {user: "akari", name: "akari", cn: "鳄渊明里"},
    AKARI_BG: {user: "akari_bg", name: "akari_bg", strict: true},
    AKARI_SCENE: {user: "akari_scene", name: "akari_scene", strict: true}, // TODO Deprecate this
    AKARI_NEWYEAR: {user: "akari_newyear", name: "CH0196", cn: "鳄渊明里（正月）"},
    // Disciplinary Committee 风纪委员会
    HINA: {user: "hina", name: "Hina", cn: "空崎日奈"},
    HINA_SWIMSUIT: {user: "hina_swimsuit", name: "CH0063", cn: "空崎日奈（泳装）"},
    HINA_DRESS: {user: "hina_dress", name: "CH0230", cn: "空崎日奈（礼服）"},
    AKO: {user: "ako", name: "Ako", cn: "天雨亚子"},
    AKO_DRESS: {user: "ako_dress", name: "CH0231", cn: "天雨亚子（礼服）"},
    IORI: {user: "iori", name: "Iori", cn: "银镜伊织"},
    IORI_SWIMSUIT: {user: "iori_swimsuit", name: "CH0064", cn: "银镜伊织（泳装）"},
    CHINATSU: {user: "chinatsu", name: "Chinatsu", cn: "火宫千夏"},
    CHINATSU_HOTSPRING: {user: "chinatsu_hotspring", name: "CH0163", cn: "火宫千夏（温泉）"},
    // Pandemonium Society 万魔殿
    MAKOTO: {user: "makoto", name: "CH0079", cn: "羽沼真琴"},
    IROHA: {user: "iroha", name: "CH0156", cn: "枣伊吕波"},
    IBUKI: {user: "ibuki", name: "Ibuki", cn: "丹花伊吹"},
    CHIAKI: {user: "chiaki", name: "CH0238", V4: true, cn: "元宫千明"}, // IMPL Implemented on 2024/11/20
    SATSUKI: {user: "satsuki", name: "CH0080", V4: true, cn: "京极皋月"}, // IMPL Implemented on 2024/11/20
    // Hot Spring Development Department 温泉开发部
    KASUMI: {user: "kasumi", name: "CH0089", cn: "鬼怒川霞"},
    MEGU: {user: "megu", name: "CH0088", cn: "下仓惠"},
    // Emergency Medicine Club 救急医学部
    SENA: {user: "sena", name: "CH0081", cn: "冰室濑名"},
    // Sparkle Club 亮闪闪部
    KIRARA: {user: "kirara", name: "Kirara", cn: "夜樱绮良良"},
    // --------------- Trinity ----------------- 圣三一
    // Tea Party 茶话会
    MIKA: {user: "mika", name: "CH0069", cn: "圣园未花"},
    NAGISA: {user: "nagisa", name: "Nagisa", cn: "桐藤渚"},
    SEIA: {user: "seia", name: "CH0070", V4: true, cn: "百合园圣娅"}, // IMPL implemented on 2025/01/20
    // Sisterhood 姐妹会
    SAKURAKO: {user: "sakurako", name: "Sakurako", cn: "歌住樱子"},
    SAKURAKO_IDOL: {user: "sakurako_idol", name: "CH0274", V4: true, cn: "歌住樱子（偶像）"}, // IMPL implemented on 2024/10/23
    MARI: {user: "mari", name: "mari", cn: "伊落玛丽"},
    MARI_GYM: {user: "mari_gym", name: "CH0186", cn: "伊落玛丽（体操服）"},
    MARI_IDOL: {user: "mari_idol", name: "CH0273", V4: true, cn: "伊落玛丽（偶像）"}, // IMPL implemented on 2024/10/23
    HINATA: {user: "hinata", name: "Hinata", cn: "若叶日向"},
    HINATA_SWIMSUIT: {user: "hinata_swimsuit", name: "CH0210", cn: "若叶日向（泳装）"},
    // Justice Realization Committee 正义实现委员会
    // 小春划在了补习部下
    TSURUGI: {user: "tsurugi", name: "Tsurugi", cn: "剑先鹤城"},
    HASUMI: {user: "hasumi", name: "Hasumi", cn: "羽川莲见"},
    HASUMI_GYM: {user: "hasumi_gym", name: "CH0190", cn: "羽川莲见（体操服）"},
    MASHIRO: {user: "mashiro", name: "Mashiro", cn: "静山真白"},
    MASHIRO_SWIMSUIT: {user: "mashiro_swimsuit", name: "Mashiro_swimsuit", cn: "静山真白"},
    ICHIKA: {user: "ichika", name: "CH0071", cn: "仲正一花"},
    // Knights Hospitaller 救援骑士团
    MINE: {user: "mine", name: "CH0152", cn: "苍森美弥"},
    MINE_IDOL: {user: "mine_idol", name: "CH0275", V4: true, cn: "苍森美弥（偶像）"}, // IMPL implemented on 2024/10/23
    HANAE: {user: "hanae", name: "Hanae", cn: "朝颜花江"},
    HANAE_CHRISTMAS: {user: "hanae_christmas", name: "CH0195", cn: "朝颜花江（圣诞节）"},
    SERINA: {user: "serina", name: "serina", cn: "鹫见芹娜"},
    SERINA_CHRISTMAS: {user: "serina_christmas", name: "CH0194", cn: "鹫见芹娜（圣诞节）"},
    // Library Committee 图书委员会
    UI: {user: "ui", name: "CH0169", cn: "古关忧"},
    UI_SWIMSUIT: {user: "ui_swimsuit", name: "CH0204", cn: "古关忧（泳装）"},
    SHIMIKO: {user: "shimiko", name: "Shimiko", cn: "圆堂志美子"},
    // After-School Sweets Club 放学后甜品部
    KAZUSA: {user: "kazusa", name: "kazusa", cn: "杏山和纱"},
    KAZUSA_BAND: {user: "kazusa_band", name: "CH0250", cn: "杏山和纱（乐队）"},
    NATSU: {user: "natsu", name: "CH0155", cn: "柚鸟夏"},
    AIRI: {user: "airi", name: "Airi", cn: "栗村爱莉"},
    AIRI_BAND: {user: "airi_band", name: "CH0251", cn: "栗村爱莉（乐队）"},
    YOSHIMI: {user: "yoshimi", name: "Yoshimi", cn: "伊原木好美"},
    YOSHIMI_BAND: {user: "yoshimi_band", name: "CH0220", cn: "伊原木好美（乐队）"},
    // Trinity Vigilante Crew 圣三一自警团
    REISA: {user: "reisa", name: "CH0167", cn: "宇泽玲纱"},
    SUZUMI: {user: "suzumi", name: "Suzumi", cn: "守月铃美"},
    // Supplementary Lessons Department 补习部
    KOHARU: {user: "koharu", name: "Koharu", cn: "下江小春"},
    KOHARU_SWIMSUIT: {user: "koharu_swimsuit", name: "CH0205", cn: "下江小春（泳装）"},
    AZUSA: {user: "azusa", name: "Azusa", cn: "白洲梓"},
    AZUSA_SWIMSUIT: {user: "azusa_swimsuit", name: "Azusa_swimsuit", cn: "白洲梓（泳装）"},
    HIFUMI: {user: "hifumi", name: "Hihumi", cn: "阿慈谷日富美"},
    HIFUMI_SWIMSUIT: {user: "hifumi_swimsuit", name: "CH0058", cn: "阿慈谷日富美（泳装）"},
    HANAKO: {user: "hanako", name: "Hanako", cn: "浦和花子"},
    HANAKO_SWIMSUIT: {user: "hanako_swimsuit", name: "CH0209", cn: "浦和花子（泳装）"},
    // ------------- Millennium Science School --------------- 千年科学学院
    // Seminar 研讨会
    YUUKA: {user: "yuuka", name: "Yuuka", cn: "早濑优香"},
    YUUKA_GYM: {user: "yuuka_gym", name: "CH0184", cn: "早濑优香（体操服）A"},
    YUUKA_GYM_00: {user: "yuuka_gym_00", name: "CH0184_00", strict: true, cn: "早濑优香（体操服）B"},
    YUUKA_PYJAMAS: {user: "yuuka_pyjamas", name: "CH0284", V4: true, cn: "早濑优香（睡衣）"}, // IMPL Implemented on 2024/12/24
    NOA: {user: "noa", name: "CH0095", cn: "生盐诺亚"},
    NOA_PYJAMAS: {user: "noa_pyjamas", name: "CH0285", V4: true, cn: "生盐诺亚（睡衣）"}, // IMPL Implemented on 2024/12/24
    KOYUKI: {user: "koyuki", name: "CH0198", cn: "黑崎小雪"},
    RIO: {user: "rio", name: "CH0158", V4: true, cn: "调月莉音"}, // IMPL Implemented on 2025/01/27
    // Veritas 真理部
    CHIHIRO: {user: "chihiro", name: "CH0160", cn: "各务千寻"},
    MAKI: {user: "maki", name: "Maki", cn: "小涂真纪"},
    HARE: {user: "hare", name: "Hare", cn: "小钩晴"},
    HARE_CAMP: {user: "hare_camp", name: "CH0233", cn: "小钩晴（露营）"},
    KOTAMA: {user: "kotama", name: "Kotama", cn: "音濑小玉"},
    KOTAMA_CAMP: {user: "kotama_camp", name: "CH0232", cn: "音濑小玉（露营）"},
    // Cleaning & Clearing C&C
    NERU: {user: "neru", name: "Neru", cn: "美甘尼禄"},
    NERU_BUNNY: {user: "neru_bunny", name: "CH0101", cn: "美甘尼禄（兔女郎）"},
    ASUNA: {user: "asuna", name: "Asuna", cn: "一之濑明日奈"},
    ASUNA_BUNNY: {user: "asuna_bunny", name: "CH0098", cn: "一之濑明日奈（兔女郎）"},
    KARIN: {user: "karin", name: "Karin", cn: "角楯花凛"},
    KARIN_BUNNY: {user: "karin_bunny", name: "角楯花凛（兔女郎）"},
    KARIN_UNIFORM: {user: "karin_uniform", name: "角楯花凛（校服）"},
    AKANE: {user: "akane", name: "Akane", cn: "室笠茜"},
    AKANE_BUNNY: {user: "akane_bunny", name: "室笠茜（兔女郎）"},
    TOKI: {user: "toki", name: "CH0187", cn: "飞鸟马时"},
    TOKI_BUNNY: {user: "toki_bunny", name: "CH0211", cn: "飞鸟马时（兔女郎）"},
    // Paranormal Affairs Department 灵异现象搜查部
    HIMARI: {user: "himari", name: "CH0159", cn: "明星日鞠"},
    EIMI: {user: "eimi", name: "Eimi", cn: "和泉元艾米"},
    EIMI_SWIMSUIT: {user: "eimi_swimsuit", name: "CH0219", cn: "和泉元艾米"},
    // Engineering Department 工程部
    UTAHA: {user: "utaha", name: "Utaha", cn: "白石歌原"},
    UTAHA_CHEERLEADER: {user: "utaha_cheerleader", name: "CH0182", cn: "白石歌原（应援团）"},
    HIBIKI: {user: "hibiki", name: "Hibiki", cn: "猫冢响"},
    HIBIKI_CHEERLEADER: {user: "hibiki_cheerleader", name: "CH0181", cn: "猫冢响（应援团）"},
    KOTORI: {user: "kotori", name: "Kotori", cn: "丰见小鸟"},
    KOTORI_CHEERLEADER: {user: "kotori_cheerleader", name: "CH0185", cn: "丰见小鸟（应援团）"},
    // Gym Training Department 体育锻炼部
    SUMIRE: {user: "sumire", name: "Sumire", cn: "乙花堇"},
    // Game Development Department 游戏开发部
    MIDORI: {user: "midori", name: "Midori", cn: "才羽绿"},
    MIDORI_MAID: {user: "midori_maid", name: "CH0202", cn: "才羽绿（女仆）"},
    MOMOI: {user: "momoi", name: "Momoi", cn: "才羽桃"},
    MOMOI_MAID: {user: "momoi_maid", name: "CH0201", cn: "才羽桃（女仆）"},
    ARIS: {user: "aris", name: "Aris", cn: "天童爱丽丝"},
    ARIS_MAID: {user: "aris_maid", name: "CH0200", cn: "天童爱丽丝（女仆）"},
    YUZU: {user: "yuzu", name: "Yuzu", cn: "花冈柚子"},
    YUZU_MAID: {user: "yuzu_maid", name: "CH0203", cn: "花冈柚子（女仆）"},
    // ------------------- Hyakkiyako -------------------- 百鬼夜行
    // Yin-Yang Club 阴阳部
    KAHO: {user: "kaho", name: "CH0107", cn: "桑上果穗"},
    CHISE: {user: "chise", name: "Chise", cn: "和乐千世"},
    CHISE_SWIMSUIT: {user: "chise_swimsuit", name: "CH0178", cn: "和乐千世（泳装）"},
    // Hyakkaryouran Conflict Resolution Council 百花缭乱调停委员会
    RENGE: {user: "renge", name: "CH0224", cn: "不破莲华"},
    KIKYOU: {user: "kikyou", name: "CH0225", cn: "桐生桔梗"},
    YUKARI: {user: "yukari", name: "CH0161", cn: "勘解由小路紫"},
    // Festival Management Committee 节庆营运管理部
    SHIZUKO: {user: "shizuko", name: "Shizuko", cn: "河和静子"},
    SHIZUKO_SWIMSUIT: {user: "shizuko_swimsuit", name: "CH0180", cn: "河和静子（泳装）"},
    PINA: {user: "pina", name: "Pina", cn: "朝比奈菲娜"},
    UMIKA: {user: "umika", name: "CH0110", cn: "里滨海夏"},
    // Etiquette Training Society 修行部
    TSUBAKI: {user: "tsubaki", name: "Tsubaki", cn: "春日椿"},
    TSUBAKI_GUIDE: {user: "tsubaki_guide", name: "CH0255", cn: "春日椿（导游）"},
    MIMORI: {user: "mimori", name: "Mimori", cn: "水羽弥守"},
    MIMORI_SWIMSUIT: {user: "mimori_swimsuit", name: "CH0183", cn: "水羽弥守（泳装）"},
    KAEDE: {user: "kaede", name: "Kaede", cn: "勇美枫"},
    // Ninjutsu Research Department 忍术研究部
    MICHIRU: {user: "michiru", name: "CH0113", cn: "千鸟满"},
    IZUNA: {user: "izuna", name: "Izuna", cn: "九田泉奈"},
    IZUNA_SWIMSUIT: {user: "izuna_swimsuit", name: "CH0179", cn: "九田泉奈（泳装）"},
    TSUKUYO: {user: "tsukuyo", name: "CH0114", cn: "大野月咏"},
    // Seven Prisoners 七囚人
    WAKAMO: {user: "wakamo", name: "Wakamo", cn: "狐坂若藻"},
    WAKAMO_SCENE_0: {user: "wakamo_scene_0", name: "Wakamo_Scene_0", strict: true},
    WAKAMO_SWIMSUIT: {user: "wakamo_swimsuit", name: "CH0175", cn: "狐坂若藻（泳装）"},
    // ------------------ Shanhaijing ------------------ 山海经
    // Xuanlong Office 玄龙门
    KISAKI: {user: "kisaki", name: "CH0139", cn: "龙华妃咲"}, // IMPL implemented on 2024/09/25
    MINA: {user: "mina", name: "CH0138", cn: "近卫南"},
    // Xuanwu Merchant Association 玄武商会
    RUMI: {user: "rumi", name: "CH0135", cn: "朱城瑠美"},
    // 多读音消歧
    REIJO: {user: "reijo", name: "reizyo", cn: "鹿山丽情"}, // IMPL implemented on 2024/09/25
    // Chinese Alchemy Study Club 炼丹术研究会
    SAYA: {user: "saya", name: "Saya", cn: "药子纱绫"},
    SAYA_CASUAL: {user: "saya_casual", name: "Saya_casual", cn: "药子纱绫（私服）"},
    // Plum Blossom Garden 梅花园
    SHUN: {user: "shun", name: "Shun", cn: "春原瞬"},
    SHUN_YOUNG: {user: "shun_young", name: "CH0066", cn: "春原瞬（幼女）"},
    KOKONA: {user: "kokona", name: "CH0137", cn: "春原心奈"},
    // ------------------- Red Winter ----------------------- 红冬
    // Red Winter Office 红冬事务局
    CHERINO: {user: "cherino", name: "Cherino", cn: "连河切里诺"},
    CHERINO_HOTPSRING: {user: "cherino_hotspring", name: "CH0164", cn: "连河切里诺（温泉）"},
    TOMOE: {user: "tomoe", name: "Tomoe", cn: "佐城智惠"},
    TOMOE_QIPAO: {user: "tomoe_qipao", name: "CH0271", cn: "佐城智惠（旗袍）"},
    MARINA: {user: "marina", name: "Marina", cn: "池仓玛丽娜"},
    MARINA_QIPAO: {user: "marina_qipao", name: "CH0270", cn: "池仓玛丽娜（旗袍）"},
    // Public Works Department 劳务部
    MINORI: {user: "minori", name: "CH0214", cn: "安守实梨"},
    // Knowledge Liberation Front 知识解放战线
    MERU: {user: "meru", name: "CH0124", cn: "姬木梅露"},
    MOMIJI: {user: "momiji", name: "momiji", cn: "秋泉红叶"},
    // No.227 Special Class 227特别班
    NODOKA: {user: "nodoka", name: "Nodoka", cn: "天见和香"},
    NODOKA_HOTSPRING: {user: "nodoka_hotspring", name: "CH0165", cn: "天见和香（温泉）"},
    SHIGURE: {user: "shigure", name: "Shigure", cn: "间宵时雨"},
    SHIGURE_00: {user: "shigure_00", name: "Shigure_00", strict: true, cn: "间宵时雨（背景）A"},
    SHIGURE_01: {user: "shigure_01", name: "Shigure_01", strict: true, cn: "间宵时雨（背景）B"},
    SHIGURE_HOTSPRING: {user: "shigure_hotspring", name: "CH0123"},
    // --------------------- Valkyrie --------------------- 瓦尔基里
    // Public Security Bureau 公安局
    KANNA: {user: "kanna", name: "CH0170", cn: "尾刃叶渚"},
    KANNA_SWIMSUIT: {user: "kanna_swimsuit", name: "CH0260", cn: "尾刃叶渚（泳装）"},
    // Community Safety Bureau 生活安全局
    KIRINO: {user: "kirino", name: "kirino", cn: "中务桐乃"},
    KIRINO_SWIMSUIT: {user: "kirino_swimsuit", name: "CH0262", cn: "中务桐乃（泳装）"},
    FUBUKI: {user: "fubuki", name: "CH0141", cn: "合欢垣吹雪"},
    FUBUKI_SWIMSUIT: {user: "fubuki_swimsuit", name: "CH0261", cn: "合欢垣吹雪（泳装）"},
    FUBUKI_SWIMSUIT_LIGHT_WEAKENED: {
        user: "fubuki_swimsuit_home_fix",
        name: "CH0261_home_fix2",
        cn: "合欢垣吹雪（泳装）（光线修复）"
    },
    // ---------------------- Arius ----------------------- 阿里乌斯
    // 白洲梓划在圣三一下
    ATSUKO: {user: "atsuko", name: "Atsuko", cn: "秤亚津子"},
    ATSUKO_SWIMSUIT: {user: "atsuko_swimsuit", name: "CH0267", cn: "秤亚津子（泳装）"},
    ATSUKO_SWIMSUIT_LIGHT_WEAKENED: {
        user: "atsuko_swimsuit_home_fix",
        name: "CH0267_home_fix",
        cn: "秤亚津子（泳装）（光线修复）"
    },
    SAORI: {user: "saori", name: "Saori", cn: "锭前纱织"},
    SAORI_SWIMSUIT: {user: "saori_swimsuit", name: "CH0266", cn: "锭前纱织（泳装）"},
    HIYORI: {user: "hiyori", name: "Hiyori", cn: "槌永日和"},
    HIYORI_SWIMSUIT: {user: "hiyori_swimsuit", name: "CH0269", cn: "槌永日和（泳装）"},
    HIYORI_SWIMSUIT_LIGHT_WEAKENED: {
        user: "hiyori_swimsuit_home_fix",
        name: "CH0269_home_fix",
        cn: "槌永日和（泳装）（光线修复）"
    },
    MISAKI: {user: "misaki", name: "Misaki", cn: "戒野美咲"},
    // ----------------------- SRT -------------------------
    // RABBIT Platoon RABBIT小队
    MIYAKO: {user: "miyako", name: "Miyako", cn: "月雪宫子"},
    MIYAKO_SWIMSUIT: {user: "miyako_swimsuit", name: "CH0215", cn: "月雪宫子（泳装）"},
    MIYU: {user: "miyu", name: "CH0145", cn: "霞泽美游"},
    MIYU_SWIMSUIT: {user: "miyu_swimsuit", name: "CH0218", cn: "霞泽美游（泳装）"},
    SAKI: {user: "saki", name: "CH0144", cn: "空井咲"},
    SAKI_SWIMSUIT: {user: "saki_swimsuit", name: "CH0217", cn: "空井咲（泳装）"},
    MOE: {user: "moe", name: "Moe", cn: "风仓萌"},
    MOE_SWIMSUIT: {user: "moe_swimsuit", name: "CH0216", cn: "风仓萌（泳装）"},
    // ------------ Somewhere Outside Kivotos ------------ 联动角色
    // VOCALOID V家
    MIKU: {user: "miku", name: "CH9999", cn: "[联动] 初音未来"},
    // Academy City 学园都市
    MIKOTO: {user: "mikoto", name: "CH9998", cn: "[联动] 御坂美琴"},
    SHOKUHOU_MISAKI: {user: "shokuhou_misaki", name: "CH9997", cn: "[联动] 食蜂操祈"}, // 食蜂操祈和阿里乌斯的戒野美咲撞名了，故前者只能通过全名查询
    RUIKO: {user: "ruiko", name: "CH0996", cn: "[联动] 佐天泪子"},
};

function changeHandler() {
    let selector = document.getElementById('model-selector');
    let animation = document.getElementById('animation');
    let client = document.getElementById('client');
    let repeat = document.getElementById('repeat').checked;
    let exp = document.getElementById('export').checked;
    let appreciation = document.getElementById('appreciation').checked;
    let ind = 0;
    while (client.hasChildNodes()) client.removeChild(client.firstChild);
    while (animation.hasChildNodes()) animation.removeChild(animation.firstChild);
    animation.insertAdjacentHTML("beforeend", `<option value="start_idle_01">start_idle_01</option>`);
    if (selector.selectedIndex > 0) {
        for (let ch in CharacterTag) {
            if (ind + 1 === selector.selectedIndex) {
                let frame = document.createElement('iframe');

                frame.id = 'container-box';
                frame.src = `https://api.justpureh2o.cn/v1/ba-memory/?name=${CharacterTag[ch].user}&animation=${animation.options[0].value}${repeat ? '' : '&noRepeat'}${exp ? '&export' : ''}${appreciation ? '&appreciation' : ''}`;
                client.appendChild(frame);
                document.querySelector('#container-box').contentWindow.addEventListener('message', (e) => {
                    console.log(e);
                    if (!e.origin.includes('api.justpureh2o.cn')) return;
                    console.log('Received');
                    let data = JSON.parse(e.data);
                    for (let v of data.animations) {
                        if (v.toString() === 'start_idle_01') continue;
                        animation.insertAdjacentHTML("beforeend", `<option value="${v.toString()}">${v.toString()}</option>`)
                    }
                });
                frame.style.position = 'absolute';
                frame.style.width = '100%';
                frame.style.height = '100%';
                break;
            }
            ind++;
        }
    }
}

(function () {
    let selector = document.getElementById('model-selector');
    let animation = document.getElementById('animation');
    let checkbox = document.getElementsByName('appendixes');
    for (let ch in CharacterTag) {
        selector.insertAdjacentHTML("beforeend", `<option value="${CharacterTag[ch].name}">${CharacterTag[ch].user} / ${CharacterTag[ch].cn}</option>`);
    }
    selector.addEventListener("change", changeHandler);
    animation.addEventListener("change", changeHandler);
    for (let o of checkbox) o.addEventListener('change', changeHandler);
})();